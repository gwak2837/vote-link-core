회원가입 : wallet 생성
  1. 자신의 신원을 인증 : 학교 이메일 인증
  2. 선관위로 자신의 정보 전송 : publicKeyHash 전송

선관위에서 투표 리스트 생성 : 투표 내역을 기록할 공개 블록체인 생성
  1. 투표 이름
  2. 유권자 수 - 
  3. 투표 기간 - 기간이 끝날 때까지 블록을 전파하지 않음
  4. 투표 매체
  5. 투표 중 선거인 정보 수정
  6. 개표 시 임의 개표 방지


유권자에게 투표권 부여 : coinbase tx만 포함하는 block을 만들어서 모든 유권자에게 투표권 전송

coinbase transaction
  1. 



투표권 : transaction
  1. 받는이 : output.recipientPublicKeyHash
  2. 종류 : output.커스터마이즈

사용자가 투표 : transaction 생성 및 전송
  1. 누가 : 유권자wallet.privateKey
  2. 누구에게 : 후보자wallet.publicKeyHash
  3. 투표권 종류 : output.커스터마이즈

개표
  1. 블록 전파
  2. getBalance(후보자wallet.publicKeyHash)로 후보자 득표수 계산

투표 검증
  1. 개별 검증 : getTransactionHash(자기 해시)로 자신의 투표 여부/내용 확인
  2. 선거 검증 : isValidBlockchain()으로 전체 투표 검증

개인키 초기화
  1. 개인키 유출/분실에 대비 : 기존 개인키로 투표한 내역 무효 처리
  2. 
  



기대 효과

사용자
1. 내가 투표한 표가 중간에 변경되지 않았는지 확인할 수 있다. : getTransaction()으로 자신의 투표 내역 확인
2. 투표 기간이 끝나고 블록체인이 공개됐을 때, 누구나 전체 투표 내역을 검증할 수 있다. : isValidBlockchain()으로 검증
3. 물론 누가 누구에게 투표했는지는 익명화된다.




한계








#### 할 일

고아 블록, 가지 블록 따로 저장할지, 블록체인이 배열인데 따로 어떻게 저장할지

블록체인 난이도를 어느 블록부터 비교할지 선택할 수 있게(하는 게 좋을까?)

블록 아이디 검색 시 고아 블록, 가지 블록도 프린트

블록 추가 시 고아 블록 재조정

extractValidTx 수정



#### 완료

다른 노드로 블록, 거래 자동으로 전파
  다른 노드와 통신을 어떻게? 아폴로 링크로
고아 거래 풀
  이전 거래 아웃풋이 없으면 고아 거래 풀로 이동. 전파받으면 고아 거래 풀로 이동시키고, 
다른 노드가 주소를 주면 그 노드를 피어로 추가
  멀티 클라이언트?
블록을 블록체인에 추가하면 고아 거래 풀 수정, 유효 거래 풀 재조정
거래 시간 조작 방지를 위해 일정 시간 이전 거래(오래된 거래)는 수신 거부





